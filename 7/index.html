<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Refactoring for Design Improvement - CS449 Textbook Notes</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../overview.html">Overview</a></li><li class="chapter-item expanded affix "><a href="../roadmap.html">Roadmap</a></li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Introduction</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Software Development Process</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Scrum for Software Development</div></li><li class="chapter-item expanded "><a href="../4/index.html"><strong aria-hidden="true">4.</strong> Fundamentals of Software Design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../4/4.1.html"><strong aria-hidden="true">4.1.</strong> Basic Design Principles</a></li><li class="chapter-item expanded "><a href="../4/4.2.html"><strong aria-hidden="true">4.2.</strong> Precondition and Postcondition</a></li><li class="chapter-item expanded "><a href="../4/4.3.html"><strong aria-hidden="true">4.3.</strong> Design By Contract</a></li><li class="chapter-item expanded "><a href="../4/4.4.html"><strong aria-hidden="true">4.4.</strong> Change of Contract</a></li></ol></li><li class="chapter-item expanded "><a href="../5/index.html"><strong aria-hidden="true">5.</strong> Object-Oriented Design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../5/5.1.html"><strong aria-hidden="true">5.1.</strong> Class Diagrams</a></li><li class="chapter-item expanded "><a href="../5/5.2.html"><strong aria-hidden="true">5.2.</strong> ADTs as the Class Foundation</a></li><li class="chapter-item expanded "><a href="../5/5.3.html"><strong aria-hidden="true">5.3.</strong> Inheritance and Polymorphism</a></li><li class="chapter-item expanded "><a href="../5/5.4.html"><strong aria-hidden="true">5.4.</strong> Design Heuristics</a></li><li class="chapter-item expanded "><a href="../5/5.5.html"><strong aria-hidden="true">5.5.</strong> The SOLID Principles</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Design Patterns and Anti-Patterns</div></li><li class="chapter-item expanded "><a href="../7/index.html" class="active"><strong aria-hidden="true">7.</strong> Refactoring for Design Improvement</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../7/7.1.html"><strong aria-hidden="true">7.1.</strong> Code Smells</a></li><li class="chapter-item expanded "><a href="../7/7.2.html"><strong aria-hidden="true">7.2.</strong> Named Refactorings</a></li><li class="chapter-item expanded "><a href="../7/7.3.html"><strong aria-hidden="true">7.3.</strong> Refactoring for Modularity</a></li><li class="chapter-item expanded "><a href="../7/7.4.html"><strong aria-hidden="true">7.4.</strong> Refactoring for High Cohesion</a></li><li class="chapter-item expanded "><a href="../7/7.5.html"><strong aria-hidden="true">7.5.</strong> Refactoring for Loose Coupling</a></li><li class="chapter-item expanded "><a href="../7/7.6.html"><strong aria-hidden="true">7.6.</strong> Refactoring for Encapsulation/Information Hiding</a></li><li class="chapter-item expanded "><a href="../7/7.7.html"><strong aria-hidden="true">7.7.</strong> Refactoring for Inheritance/Polymorphism</a></li><li class="chapter-item expanded "><a href="../7/7.8.html"><strong aria-hidden="true">7.8.</strong> Refactoring to Design Patterns</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.9.</strong> Putting It All Together</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Defensive Design for Security</div></li><li class="chapter-item expanded "><a href="../9/index.html"><strong aria-hidden="true">9.</strong> Software Quality Assurance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../9/9.1.html"><strong aria-hidden="true">9.1.</strong> Verification and Validation</a></li><li class="chapter-item expanded "><a href="../9/9.2.html"><strong aria-hidden="true">9.2.</strong> Software Testing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../9/9.2.1.html"><strong aria-hidden="true">9.2.1.</strong> Testing vs. Development Processes</a></li><li class="chapter-item expanded "><a href="../9/9.2.2.html"><strong aria-hidden="true">9.2.2.</strong> Test Cases</a></li><li class="chapter-item expanded "><a href="../9/9.2.3.html"><strong aria-hidden="true">9.2.3.</strong> The Test Oracle Problem</a></li><li class="chapter-item expanded "><a href="../9/9.2.4.html"><strong aria-hidden="true">9.2.4.</strong> Testing Strategies</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.5.</strong> Testing Levels</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.6.</strong> Testing Types</div></li><li class="chapter-item expanded "><a href="../9/9.2.7.html"><strong aria-hidden="true">9.2.7.</strong> The Agile Testing Quadrants</a></li></ol></li><li class="chapter-item expanded "><a href="../9/9.3.html"><strong aria-hidden="true">9.3.</strong> Static Code Analysis</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.4.</strong> Theorem Proving</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.5.</strong> Model Checking</div></li></ol></li><li class="chapter-item expanded "><a href="../10/index.html"><strong aria-hidden="true">10.</strong> Fundamental Testing Techniques</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10/10.1.html"><strong aria-hidden="true">10.1.</strong> Fault Detection Condition</a></li><li class="chapter-item expanded "><a href="../10/10.2.html"><strong aria-hidden="true">10.2.</strong> Code Coverage</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.3.</strong> Mutation Testing</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.4.</strong> Equivalence Partitioning</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.5.</strong> Boundary Value Analysis</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.6.</strong> Testing with Pre/Postconditions</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Test Automation</div></li><li class="chapter-item expanded "><a href="../previous/quizzes.html"><strong aria-hidden="true">12.</strong> Quiz Questions</a></li><li class="chapter-item expanded "><a href="../previous/midterm.html"><strong aria-hidden="true">13.</strong> Midterm Questions</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CS449 Textbook Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="chapter-7---refactoring-for-design-improvement"><a class="header" href="#chapter-7---refactoring-for-design-improvement">Chapter 7 - Refactoring for Design Improvement</a></h1>
<blockquote>
<p><strong>Refactoring</strong></p>
<hr />
<p><em>(noun)</em> A change made to the internal structure of software to make it easier to understand and cheaper to modify without changing its observable behavior.</p>
<p><em>(verb)</em> To restructure software by applying a series of refactorings without changing its observable behavior.</p>
</blockquote>
<p>Observable behavior has different definitions in different contexts. In the context of refactoring, it depends on who is <em>doing</em> the observing, which is usually related to code ownership.</p>
<p>It's generally safe to refactor if the refactoring only introduces a <em>new</em> public interface. <em>Changing</em> a public interface can be done safely if the programmer doing the refactoring also controls all calling code. If the interface has been published for external use, the old interface may need to be deprecated if the refactoring is highly desirable.</p>
<p>An alteration to a public interface without retaining the old one is considered a <strong>revision</strong> as opposed to a refactoring.</p>
<p>Refactoring is not:</p>
<ul>
<li>adding or modifying functionality</li>
<li>fixing bugs</li>
<li>tuning performance</li>
</ul>
<p>Automated tests help make refactoring safe and efficient.</p>
<h2 id="why-refactor"><a class="header" href="#why-refactor">Why Refactor?</a></h2>
<ul>
<li>Improve the design of software
<ul>
<li>Design decays by default, you have to work against it.<sup class="footnote-reference"><a href="#entropy">1</a></sup></li>
</ul>
</li>
<li>Make software easier to understand
<ul>
<li>When you're just trying to get the program to <em>work</em>, you're probably not thinking about the future developer (you) who will have to maintain it.</li>
</ul>
</li>
<li>Help find bugs
<ul>
<li>Part of refactoring is building a deep understanding of the relevant code. Building this understanding can help make intended behavior more clear.</li>
</ul>
</li>
<li>Help program faster
<ul>
<li>Poor design causes bottlenecks, refactoring helps clear out bad design.</li>
</ul>
</li>
</ul>
<h2 id="footnotes"><a class="header" href="#footnotes">Footnotes</a></h2>
<div class="footnote-definition" id="entropy"><sup class="footnote-definition-label">1</sup>
<p><a href="https://en.wikipedia.org/wiki/Software_entropy">Software Entropy - Wikipedia</a></p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../5/5.5.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../7/7.1.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../5/5.5.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../7/7.1.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
